"use strict";try{angular.module("translations")}catch(e){angular.module("translations",["pascalprecht.translate"])}angular.module("translations").config(["$translateProvider",function(a){a.translations("en",{}),a.preferredLanguage("en")}]);var chellSearch=angular.module("chell-search",["templates-chell-search","underscore","angular-underscore","ui.bootstrap","base64","ngCkeditor","ngSanitize","translations","ngMockE2E"]),chellSearch=angular.module("chell-search");chellSearch.factory("SearchContent",["SearchAdapter",function(a){return{query:function(){return a.getContentList()},get:function(b){return a.getContent(b)},create:function(b){return a.create(b)},update:function(b){return a.update(b)},remove:function(b){a.remove(b)}}}]);var chellSearch=angular.module("chell-search");chellSearch.directive("chellSearchInput",function(){return{restrict:"E",scope:{},controller:"SearchInputController",templateUrl:"templates/search-input.tpl.html"}}),chellSearch.directive("chellSearchResults",function(){return{restrict:"E",scope:{},controller:"SearchResultController",templateUrl:"templates/search-results.tpl.html"}});var chellSearch=angular.module("chell-search");chellSearch.factory("IndexService",["SearchAdapter",function(a){return{index:function(b,c,d){return a.create(b,c,d)}}}]),chellSearch.factory("SearchService",["SearchAdapter","$rootScope",function(a,b){var c;return{search:function(d){a.search(d).then(function(a){c=a,b.$broadcast("chellSearch:resultsFound",d)})},getResults:function(){return c},query:function(){return a.getDocumentList()}}}]);var chellSearch=angular.module("chell-search");chellSearch.controller("SearchInputController",["$scope","$rootScope","SearchService",function(a,b,c){a.searchTerm="",a.search=function(){c.search(a.searchTerm)}}]),chellSearch.controller("SearchResultController",["$scope","SearchService","$sce",function(a,b,c){a.$on("chellSearch:resultsFound",function(c,d){a.searchResults=b.getResults(),a.searchTerm=d}),a.highlight=function(a,b){return c.trustAsHtml(b?a.replace(new RegExp(b,"gi"),'<span class="highlightedText">$&</span>'):a)}}]),angular.module("templates-chell-search",["templates/search-input.tpl.html","templates/search-results.tpl.html"]),angular.module("templates/search-input.tpl.html",[]).run(["$templateCache",function(a){a.put("templates/search-input.tpl.html",'<div>\n    <form id="searchForm" name="searchForm" ng-submit="search()">\n        <fieldset>\n            <div class="input-group">\n                <input type="text" class="form-control" placeholder="Search" name="q" ng-model="searchTerm">\n\n                <div class="input-group-btn">\n                    <a class="btn btn-default" ng-click="search()"><i class="glyphicon glyphicon-search"></i></a>\n                </div>\n            </div>\n        </fieldset>\n    </form>\n</div>')}]),angular.module("templates/search-results.tpl.html",[]).run(["$templateCache",function(a){a.put("templates/search-results.tpl.html",'<div ng-repeat="result in searchResults">\n    <article class="search-result row">\n        <div class="col-xs-12 col-sm-12 col-md-10 excerpet">\n            <h4><a href="#" title=""><div ng-bind-html="highlight(result.document.title, searchTerm)"></div></a></h4>\n            <p ng-bind-html="highlight(result.document.body, searchTerm)"></p>\n        </div>\n        <div class="col-xs-12 col-sm-12 col-md-2">\n            <ul class="meta-search">\n                <li><i class="glyphicon glyphicon-calendar"></i> <span>{{result.creationDate | date:\'dd.MM.yyyy\'}}</span></li>\n                <li><i class="glyphicon glyphicon-user"></i> <span ng-bind-html="highlight(result.accessRights, searchTerm)"></span></li>\n                <li><i class="glyphicon glyphicon-file"></i> <span ng-bind-html="highlight(result.type, searchTerm)"></span></li>\n            </ul>\n        </div>\n        <span class="clearfix borda"></span>\n    </article>\n</div>')}]);
//# sourceMappingURL=chell-search.min.js.map